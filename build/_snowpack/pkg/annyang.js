import{c as T}from"./common/_commonjsHelpers-913f9c4a.js";var z=T(function(v){var x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};//! annyang
//! version : 2.6.1
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
//! annyang
//! version : 2.6.1
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
(function(o,c){x(v)==="object"&&v.exports?v.exports=c(o):o.annyang=c(o)})(typeof window!="undefined"?window:void 0,function(o,c){var m,R=o.SpeechRecognition||o.webkitSpeechRecognition||o.mozSpeechRecognition||o.msSpeechRecognition||o.oSpeechRecognition;if(!R)return null;var a,y,p=[],i={start:[],error:[],end:[],soundstart:[],result:[],resultMatch:[],resultNoMatch:[],errorNetwork:[],errorPermissionBlocked:[],errorPermissionDenied:[]},w=0,P=0,f=!1,h="font-weight: bold; color: #00f;",d=!1,b=!1,D=/\s*\((.*?)\)\s*/g,E=/(\(\?:[^)]+\))\?/g,M=/(\(\?)?:\w+/g,$=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#]/g,l=function(n){for(var t=arguments.length,e=Array(1<t?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];n.forEach(function(s){s.callback.apply(s.context,e)})},C=function(){return a!==c},g=function(n,t){n.indexOf("%c")!==-1||t?console.log(n,t||h):console.log(n)},S=function(){C()||m.init({},!1)},A=function(n,t,e){p.push({command:n,callback:t,originalPhrase:e}),f&&g("Command successfully loaded: %c"+e,h)},_=function(n){var t;l(i.result,n);for(var e=0;e<n.length;e++){t=n[e].trim(),f&&g("Speech recognized: %c"+t,h);for(var r=0,s=p.length;r<s;r++){var u=p[r],j=u.command.exec(t);if(j){var k=j.slice(1);return f&&(g("command matched: %c"+u.originalPhrase,h),k.length&&g("with parameters",k)),u.callback.apply(this,k),void l(i.resultMatch,t,u.originalPhrase,n)}}}l(i.resultNoMatch,n)};return m={init:function(n){var t=!(1<arguments.length&&arguments[1]!==c)||arguments[1];a&&a.abort&&a.abort(),(a=new R).maxAlternatives=5,a.continuous=o.location.protocol==="http:",a.lang="en-US",a.onstart=function(){b=!0,l(i.start)},a.onsoundstart=function(){l(i.soundstart)},a.onerror=function(e){switch(l(i.error,e),e.error){case"network":l(i.errorNetwork,e);break;case"not-allowed":case"service-not-allowed":y=!1,new Date().getTime()-w<200?l(i.errorPermissionBlocked,e):l(i.errorPermissionDenied,e)}},a.onend=function(){if(b=!1,l(i.end),y){var e=new Date().getTime()-w;(P+=1)%10==0&&f&&g("Speech Recognition is repeatedly stopping and starting. See http://is.gd/annyang_restarts for tips."),e<1e3?setTimeout(function(){m.start({paused:d})},1e3-e):m.start({paused:d})}},a.onresult=function(e){if(d)return f&&g("Speech heard, but annyang is paused"),!1;for(var r=e.results[e.resultIndex],s=[],u=0;u<r.length;u++)s[u]=r[u].transcript;_(s)},t&&(p=[]),n.length&&this.addCommands(n)},start:function(n){S(),d=(n=n||{}).paused!==c&&!!n.paused,y=n.autoRestart===c||!!n.autoRestart,n.continuous!==c&&(a.continuous=!!n.continuous),w=new Date().getTime();try{a.start()}catch(t){f&&g(t.message)}},abort:function(){y=!1,P=0,C()&&a.abort()},pause:function(){d=!0},resume:function(){m.start()},debug:function(){var n=!(0<arguments.length&&arguments[0]!==c)||arguments[0];f=!!n},setLanguage:function(n){S(),a.lang=n},addCommands:function(n){var t,e;for(var r in S(),n)if(n.hasOwnProperty(r))if(typeof(t=o[n[r]]||n[r])=="function")A((e=(e=r).replace(N,"\\$&").replace(D,"(?:$1)?").replace(M,function(s,u){return u?s:"([^\\s]+)"}).replace($,"(.*?)").replace(E,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i")),t,r);else{if(!((t===void 0?"undefined":x(t))==="object"&&t.regexp instanceof RegExp)){f&&g("Can not register command: %c"+r,h);continue}A(new RegExp(t.regexp.source,"i"),t.callback,r)}},removeCommands:function(n){n===c?p=[]:(n=Array.isArray(n)?n:[n],p=p.filter(function(t){for(var e=0;e<n.length;e++)if(n[e]===t.originalPhrase)return!1;return!0}))},addCallback:function(n,t,e){var r=o[t]||t;typeof r=="function"&&i[n]!==c&&i[n].push({callback:r,context:e||this})},removeCallback:function(n,t){var e=function(s){return s.callback!==t};for(var r in i)i.hasOwnProperty(r)&&(n!==c&&n!==r||(i[r]=t===c?[]:i[r].filter(e)))},isListening:function(){return b&&!d},getSpeechRecognizer:function(){return a},trigger:function(n){m.isListening()?(Array.isArray(n)||(n=[n]),_(n)):f&&g(b?"Speech heard, but annyang is paused":"Cannot trigger while annyang is aborted")}}})});export{z as __moduleExports};
